{% extends 'base.html.twig' %}

{% block title %} {{ trick.name }} {% endblock %}
{% block body %}
    <br/><br/><br/><br/>
<section>
    <div class="container ">
        <div class="row">
            <div class="col-lg-12 text-center" >

                {% if medias is defined %}
                    {% if medias[0] %}
                        <img class="img-fluid " src="/img/{{ medias[0].path }}" alt="front-image" width="90%;">
                    {% endif %}
                {% endif %}


            </div>
        </div>
        <div class="row row align-items-center">
            <div class="col-lg-12">
                <div class="p-5">
                    <h2 class="display-4 text-center"> Snowtricks nÂ°{{ id }} : {{ trick.name }}</h2><br/><br/>

                    <div class=" col-lg-12">

                        <div class="media-container text-left ">

                        {% for media in medias %}


                            {% if Embed[0] is defined %}
                                {{ Embed[0].path|html }}
                            {% endif %}

                            {% if Embed[1] is defined %}
                                {{ Embed[1].path|html }}
                            {% endif %}

                            {% if Embed[2] is defined %}
                                {{ Embed[2].path|html }}
                            {% endif %}

                                <img class="img-fluid " src="/img/{{ media.path }}" alt="image-single" width="32%;">


                        {% endfor %}
                        </div>
                        <br/><br/><br/><br/><br/>

                    </div>
                    <p>{{ trick.description }}</p>
                </div>
            </div>
        </div>
    </div>

</section>

<br/><br/>
<section>
    <div class="container">


        <div class="row">
            <div class="group-label">
                <span> category: </span>
                <span class="label label-default ">  {{ trick.categoryTricks.name }} </span>
            </div>
        </div>

        <br/><br/>
        <hr>
        <br/><br/>

        {% if app.user %}
        <div class="text-center">
            {{ form_start(AddCommentForm) }}
            {{ form_widget(AddCommentForm) }}

            <button type="submit" class="btn btn-primary"> Comment</button>
            {{ form_end(AddCommentForm) }}
        </div>
        {% endif %}
        <div class="row align-items-center">
            <div class="col-lg-offset-3 col-lg-6 chat">

                <h2> Chat about this trick  </h2>

                {% if comments is defined %}
                    {% for comment in comments %}

                        <ul>
                            <li>
                                <div class="row">

                                    <div class="col-lg-3">
                                        {% if comment.user.picture is defined %}
                                           <img class="img-fluid" src="{{ asset('img/user/'~comment.user.picture) }}" width="200"/>

                                        {% endif %}
                                    </div>
                                    <div class="col-lg-7">
                                        <p class="username-comment">{{ comment.user.username }}, at
                                            {% if comment.createdAt is defined %} {{ comment.createdAt|date("m/d/Y") }}
                                            {% endif %}</p>

                                        <p class="comment-content">{{ comment.content }}</p>
                                    </div>
                                </div>
                            </li>
                            <hr class="little-hr">
                        </ul>
                    {% endfor %}
                {% else %}
                    <p> There are not comments for this tricks </p>

                {% endif %}

            </div>

                </p>
            </div>
        </div>

        <br/>
        <br/>
        <br/>
    </div>
</section>

{% endblock %}